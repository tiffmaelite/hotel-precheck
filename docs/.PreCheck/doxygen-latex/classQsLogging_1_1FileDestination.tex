\hypertarget{classQsLogging_1_1FileDestination}{\section{Référence de la classe Qs\-Logging\-:\-:File\-Destination}
\label{classQsLogging_1_1FileDestination}\index{Qs\-Logging\-::\-File\-Destination@{Qs\-Logging\-::\-File\-Destination}}
}


The \hyperlink{classQsLogging_1_1FileDestination}{File\-Destination} class.  




{\ttfamily \#include $<$Qs\-Log\-Dest\-File.\-h$>$}



Graphe d'héritage de Qs\-Logging\-:\-:File\-Destination\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=240pt]{classQsLogging_1_1FileDestination__inherit__graph}
\end{center}
\end{figure}


Graphe de collaboration de Qs\-Logging\-:\-:File\-Destination\-:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{classQsLogging_1_1FileDestination__coll__graph}
\end{center}
\end{figure}
\subsection*{Fonctions membres publiques}
\begin{DoxyCompactItemize}
\item 
\hyperlink{classQsLogging_1_1FileDestination_ad42d6551d58f82eeb61ffc6d7d06d5cd}{File\-Destination} (const Q\-String \&file\-Path, \hyperlink{namespaceQsLogging_a41dc81d39cd3d36d9e15746bd9174be0}{Rotation\-Strategy\-Ptr} rotation\-Strategy)
\begin{DoxyCompactList}\small\item\em \hyperlink{classQsLogging_1_1FileDestination}{File\-Destination}. \end{DoxyCompactList}\item 
virtual bool \hyperlink{classQsLogging_1_1FileDestination_a2d18b70b408910332dcbee9d12c1d394}{is\-Valid} ()
\begin{DoxyCompactList}\small\item\em is\-Valid \end{DoxyCompactList}\item 
virtual void \hyperlink{classQsLogging_1_1FileDestination_a84b076720ccfa4045e1aacc14c5af5dc}{write} (const Q\-String \&message, \hyperlink{namespaceQsLogging_a38c7dd87e4de6f8eb460763ad0baa033}{Level} level)
\begin{DoxyCompactList}\small\item\em write \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Attributs privés}
\begin{DoxyCompactItemize}
\item 
Q\-File \hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{m\-File}
\begin{DoxyCompactList}\small\item\em m\-File \end{DoxyCompactList}\item 
Q\-Text\-Stream \hyperlink{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{m\-Output\-Stream}
\begin{DoxyCompactList}\small\item\em m\-Output\-Stream \end{DoxyCompactList}\item 
Q\-Shared\-Pointer$<$ \hyperlink{classQsLogging_1_1RotationStrategy}{Rotation\-Strategy} $>$ \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{m\-Rotation\-Strategy}
\begin{DoxyCompactList}\small\item\em m\-Rotation\-Strategy \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Description détaillée}
The \hyperlink{classQsLogging_1_1FileDestination}{File\-Destination} class. 

Définition à la ligne \hyperlink{QsLogDestFile_8h_source_l00181}{181} du fichier \hyperlink{QsLogDestFile_8h_source}{Qs\-Log\-Dest\-File.\-h}.



\subsection{Documentation des constructeurs et destructeur}
\hypertarget{classQsLogging_1_1FileDestination_ad42d6551d58f82eeb61ffc6d7d06d5cd}{\index{Qs\-Logging\-::\-File\-Destination@{Qs\-Logging\-::\-File\-Destination}!File\-Destination@{File\-Destination}}
\index{File\-Destination@{File\-Destination}!QsLogging::FileDestination@{Qs\-Logging\-::\-File\-Destination}}
\subsubsection[{File\-Destination}]{\setlength{\rightskip}{0pt plus 5cm}Qs\-Logging\-::\-File\-Destination\-::\-File\-Destination (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{file\-Path, }
\item[{{\bf Rotation\-Strategy\-Ptr}}]{rotation\-Strategy}
\end{DoxyParamCaption}
)}}\label{classQsLogging_1_1FileDestination_ad42d6551d58f82eeb61ffc6d7d06d5cd}


\hyperlink{classQsLogging_1_1FileDestination}{File\-Destination}. 


\begin{DoxyParams}{Paramètres}
{\em file\-Path} & \\
\hline
{\em rotation\-Strategy} & \hyperlink{classQsLogging_1_1FileDestination_ad42d6551d58f82eeb61ffc6d7d06d5cd}{Qs\-Logging\-::\-File\-Destination\-::\-File\-Destination} \\
\hline
\end{DoxyParams}


Définition à la ligne \hyperlink{QsLogDestFile_8cpp_source_l00145}{145} du fichier \hyperlink{QsLogDestFile_8cpp_source}{Qs\-Log\-Dest\-File.\-cpp}.



Références \hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{m\-File}, \hyperlink{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{m\-Output\-Stream}, et \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{m\-Rotation\-Strategy}.


\begin{DoxyCode}
00146     : \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{mRotationStrategy}(rotationStrategy)
00147 \{
00148     \hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile}.setFileName(filePath);
00149     \textcolor{keywordflow}{if} (!\hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile}.open(QFile::WriteOnly | QFile::Text | \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{mRotationStrategy}->
      recommendedOpenModeFlag()))
00150         std::cerr << \textcolor{stringliteral}{"QsLog: could not open log file "} << qPrintable(filePath);
00151     \hyperlink{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{mOutputStream}.setDevice(&\hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile});
00152     \hyperlink{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{mOutputStream}.setCodec(QTextCodec::codecForName(\textcolor{stringliteral}{"UTF-8"}));
00153 
00154     \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{mRotationStrategy}->setInitialInfo(\hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile});
00155 \}
\end{DoxyCode}


\subsection{Documentation des fonctions membres}
\hypertarget{classQsLogging_1_1FileDestination_a2d18b70b408910332dcbee9d12c1d394}{\index{Qs\-Logging\-::\-File\-Destination@{Qs\-Logging\-::\-File\-Destination}!is\-Valid@{is\-Valid}}
\index{is\-Valid@{is\-Valid}!QsLogging::FileDestination@{Qs\-Logging\-::\-File\-Destination}}
\subsubsection[{is\-Valid}]{\setlength{\rightskip}{0pt plus 5cm}bool Qs\-Logging\-::\-File\-Destination\-::is\-Valid (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classQsLogging_1_1FileDestination_a2d18b70b408910332dcbee9d12c1d394}


is\-Valid 

\begin{DoxyReturn}{Renvoie}

\end{DoxyReturn}
\hyperlink{classQsLogging_1_1FileDestination_a2d18b70b408910332dcbee9d12c1d394}{Qs\-Logging\-::\-File\-Destination\-::is\-Valid} 

Implémente \hyperlink{classQsLogging_1_1Destination_acb3dd81553c59aec5062ec8556b3b407}{Qs\-Logging\-::\-Destination}.



Définition à la ligne \hyperlink{QsLogDestFile_8cpp_source_l00178}{178} du fichier \hyperlink{QsLogDestFile_8cpp_source}{Qs\-Log\-Dest\-File.\-cpp}.


\begin{DoxyCode}
00179 \{
00180     \textcolor{keywordflow}{return} \hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile}.isOpen();
00181 \}
\end{DoxyCode}
\hypertarget{classQsLogging_1_1FileDestination_a84b076720ccfa4045e1aacc14c5af5dc}{\index{Qs\-Logging\-::\-File\-Destination@{Qs\-Logging\-::\-File\-Destination}!write@{write}}
\index{write@{write}!QsLogging::FileDestination@{Qs\-Logging\-::\-File\-Destination}}
\subsubsection[{write}]{\setlength{\rightskip}{0pt plus 5cm}void Qs\-Logging\-::\-File\-Destination\-::write (
\begin{DoxyParamCaption}
\item[{const Q\-String \&}]{message, }
\item[{{\bf Level}}]{level}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [virtual]}}}\label{classQsLogging_1_1FileDestination_a84b076720ccfa4045e1aacc14c5af5dc}


write 


\begin{DoxyParams}{Paramètres}
{\em message} & \\
\hline
{\em level} & \hyperlink{classQsLogging_1_1FileDestination_a84b076720ccfa4045e1aacc14c5af5dc}{Qs\-Logging\-::\-File\-Destination\-::write} \\
\hline
\end{DoxyParams}


Implémente \hyperlink{classQsLogging_1_1Destination_a19306b28686d599f49bb23f88824fd65}{Qs\-Logging\-::\-Destination}.



Définition à la ligne \hyperlink{QsLogDestFile_8cpp_source_l00159}{159} du fichier \hyperlink{QsLogDestFile_8cpp_source}{Qs\-Log\-Dest\-File.\-cpp}.


\begin{DoxyCode}
00160 \{
00161     \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{mRotationStrategy}->includeMessageInCalculation(message);
00162     \textcolor{keywordflow}{if} (\hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{mRotationStrategy}->shouldRotate()) \{
00163         \hyperlink{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{mOutputStream}.setDevice(NULL);
00164         \hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile}.close();
00165         \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{mRotationStrategy}->rotate();
00166         \textcolor{keywordflow}{if} (!\hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile}.open(QFile::WriteOnly | QFile::Text | \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{mRotationStrategy}->
      recommendedOpenModeFlag()))
00167             std::cerr << \textcolor{stringliteral}{"QsLog: could not reopen log file "} << qPrintable(\hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile}.fileName());
00168         \hyperlink{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{mRotationStrategy}->setInitialInfo(\hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile});
00169         \hyperlink{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{mOutputStream}.setDevice(&\hyperlink{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{mFile});
00170     \}
00171 
00172     \hyperlink{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{mOutputStream} << message << endl;
00173     \hyperlink{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{mOutputStream}.flush();
00174 \}
\end{DoxyCode}


\subsection{Documentation des données membres}
\hypertarget{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}{\index{Qs\-Logging\-::\-File\-Destination@{Qs\-Logging\-::\-File\-Destination}!m\-File@{m\-File}}
\index{m\-File@{m\-File}!QsLogging::FileDestination@{Qs\-Logging\-::\-File\-Destination}}
\subsubsection[{m\-File}]{\setlength{\rightskip}{0pt plus 5cm}Q\-File Qs\-Logging\-::\-File\-Destination\-::m\-File\hspace{0.3cm}{\ttfamily [private]}}}\label{classQsLogging_1_1FileDestination_a1de182fa4efefa21e6545757f1a04eb2}


m\-File 



Définition à la ligne \hyperlink{QsLogDestFile_8h_source_l00206}{206} du fichier \hyperlink{QsLogDestFile_8h_source}{Qs\-Log\-Dest\-File.\-h}.



Référencé par \hyperlink{classQsLogging_1_1FileDestination_ad42d6551d58f82eeb61ffc6d7d06d5cd}{File\-Destination()}.

\hypertarget{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}{\index{Qs\-Logging\-::\-File\-Destination@{Qs\-Logging\-::\-File\-Destination}!m\-Output\-Stream@{m\-Output\-Stream}}
\index{m\-Output\-Stream@{m\-Output\-Stream}!QsLogging::FileDestination@{Qs\-Logging\-::\-File\-Destination}}
\subsubsection[{m\-Output\-Stream}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Text\-Stream Qs\-Logging\-::\-File\-Destination\-::m\-Output\-Stream\hspace{0.3cm}{\ttfamily [private]}}}\label{classQsLogging_1_1FileDestination_a10f0aa5513ec40d3e362179b084a43d6}


m\-Output\-Stream 



Définition à la ligne \hyperlink{QsLogDestFile_8h_source_l00210}{210} du fichier \hyperlink{QsLogDestFile_8h_source}{Qs\-Log\-Dest\-File.\-h}.



Référencé par \hyperlink{classQsLogging_1_1FileDestination_ad42d6551d58f82eeb61ffc6d7d06d5cd}{File\-Destination()}.

\hypertarget{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}{\index{Qs\-Logging\-::\-File\-Destination@{Qs\-Logging\-::\-File\-Destination}!m\-Rotation\-Strategy@{m\-Rotation\-Strategy}}
\index{m\-Rotation\-Strategy@{m\-Rotation\-Strategy}!QsLogging::FileDestination@{Qs\-Logging\-::\-File\-Destination}}
\subsubsection[{m\-Rotation\-Strategy}]{\setlength{\rightskip}{0pt plus 5cm}Q\-Shared\-Pointer$<${\bf Rotation\-Strategy}$>$ Qs\-Logging\-::\-File\-Destination\-::m\-Rotation\-Strategy\hspace{0.3cm}{\ttfamily [private]}}}\label{classQsLogging_1_1FileDestination_ab20945842bd063b5cbe82485168be1f0}


m\-Rotation\-Strategy 



Définition à la ligne \hyperlink{QsLogDestFile_8h_source_l00214}{214} du fichier \hyperlink{QsLogDestFile_8h_source}{Qs\-Log\-Dest\-File.\-h}.



Référencé par \hyperlink{classQsLogging_1_1FileDestination_ad42d6551d58f82eeb61ffc6d7d06d5cd}{File\-Destination()}.



La documentation de cette classe a été générée à partir des fichiers suivants \-:\begin{DoxyCompactItemize}
\item 
logging/\hyperlink{QsLogDestFile_8h}{Qs\-Log\-Dest\-File.\-h}\item 
logging/\hyperlink{QsLogDestFile_8cpp}{Qs\-Log\-Dest\-File.\-cpp}\end{DoxyCompactItemize}
