\hypertarget{QsLogDest_8cpp}{\section{Qs\-Log\-Dest.\-cpp}
\label{QsLogDest_8cpp}\index{logging/\-Qs\-Log\-Dest.\-cpp@{logging/\-Qs\-Log\-Dest.\-cpp}}
}

\begin{DoxyCode}
00001 \textcolor{comment}{/* Copyright (c) 2013, Razvan Petru}
00002 \textcolor{comment}{*/}
00003 \textcolor{comment}{/* All rights reserved.}
00004 \textcolor{comment}{*/}
00005 
00006 \textcolor{comment}{/* Redistribution and use in source and binary forms, with or without modification,}
00007 \textcolor{comment}{*/}
00008 \textcolor{comment}{/* are permitted provided that the following conditions are met:}
00009 \textcolor{comment}{*/}
00010 
00011 \textcolor{comment}{/* * Redistributions of source code must retain the above copyright notice, this}
00012 \textcolor{comment}{*/}
00013 \textcolor{comment}{/*   list of conditions and the following disclaimer.}
00014 \textcolor{comment}{*/}
00015 \textcolor{comment}{/* * Redistributions in binary form must reproduce the above copyright notice, this}
00016 \textcolor{comment}{*/}
00017 \textcolor{comment}{/*   list of conditions and the following disclaimer in the documentation and/or other}
00018 \textcolor{comment}{*/}
00019 \textcolor{comment}{/*   materials provided with the distribution.}
00020 \textcolor{comment}{*/}
00021 \textcolor{comment}{/* * The name of the contributors may not be used to endorse or promote products}
00022 \textcolor{comment}{*/}
00023 \textcolor{comment}{/*   derived from this software without specific prior written permission.}
00024 \textcolor{comment}{*/}
00025 
00026 \textcolor{comment}{/* THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND}
00027 \textcolor{comment}{*/}
00028 \textcolor{comment}{/* ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED}
00029 \textcolor{comment}{*/}
00030 \textcolor{comment}{/* WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED.}
00031 \textcolor{comment}{*/}
00032 \textcolor{comment}{/* IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT,}
00033 \textcolor{comment}{*/}
00034 \textcolor{comment}{/* INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING,}
00035 \textcolor{comment}{*/}
00036 \textcolor{comment}{/* BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,}
00037 \textcolor{comment}{*/}
00038 \textcolor{comment}{/* DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF}
00039 \textcolor{comment}{*/}
00040 \textcolor{comment}{/* LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE}
00041 \textcolor{comment}{*/}
00042 \textcolor{comment}{/* OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED}
00043 \textcolor{comment}{*/}
00044 \textcolor{comment}{/* OF THE POSSIBILITY OF SUCH DAMAGE.}
00045 \textcolor{comment}{*/}
00046 
00047 \textcolor{preprocessor}{#include "\hyperlink{QsLogDest_8h}{QsLogDest.h}"}
00048 \textcolor{preprocessor}{#include "\hyperlink{QsLogDestConsole_8h}{QsLogDestConsole.h}"}
00049 \textcolor{preprocessor}{#include "\hyperlink{QsLogDestFile_8h}{QsLogDestFile.h}"}
00050 \textcolor{preprocessor}{#include <QString>}
00051 
00052 \textcolor{keyword}{namespace }QsLogging
00053 \{
00054 
\hypertarget{QsLogDest_8cpp_source_l00060}{}\hyperlink{classQsLogging_1_1DestinationFactory_abc128b6640d5716b91c681df960b878c}{00060} \hyperlink{namespaceQsLogging_a8fe41cf859d617f1c23515f804d1e8ec}{DestinationPtr} \hyperlink{classQsLogging_1_1DestinationFactory_abc128b6640d5716b91c681df960b878c}{DestinationFactory::MakeFileDestination}
      (\textcolor{keyword}{const} QString& filePath, \textcolor{keywordtype}{bool} enableRotation,
00061                                                        qint64 sizeInBytesToRotateAfter, \textcolor{keywordtype}{int} oldLogsToKeep)
00062 \{
00063     \textcolor{keywordflow}{if} (enableRotation) \{
00064         QScopedPointer<SizeRotationStrategy> logRotation(\textcolor{keyword}{new} 
      \hyperlink{classQsLogging_1_1SizeRotationStrategy}{SizeRotationStrategy});
00065         logRotation->setMaximumSizeInBytes(sizeInBytesToRotateAfter);
00066         logRotation->setBackupCount(oldLogsToKeep);
00067 
00068         \textcolor{keywordflow}{return} \hyperlink{namespaceQsLogging_a8fe41cf859d617f1c23515f804d1e8ec}{DestinationPtr}(\textcolor{keyword}{new} \hyperlink{classQsLogging_1_1FileDestination}{FileDestination}(filePath, 
      \hyperlink{namespaceQsLogging_a41dc81d39cd3d36d9e15746bd9174be0}{RotationStrategyPtr}(logRotation.take())));
00069     \}
00070 
00071     \textcolor{keywordflow}{return} \hyperlink{namespaceQsLogging_a8fe41cf859d617f1c23515f804d1e8ec}{DestinationPtr}(\textcolor{keyword}{new} \hyperlink{classQsLogging_1_1FileDestination}{FileDestination}(filePath, 
      \hyperlink{namespaceQsLogging_a41dc81d39cd3d36d9e15746bd9174be0}{RotationStrategyPtr}(\textcolor{keyword}{new} \hyperlink{classQsLogging_1_1NullRotationStrategy}{NullRotationStrategy})));
00072 \}
\hypertarget{QsLogDest_8cpp_source_l00076}{}\hyperlink{classQsLogging_1_1DestinationFactory_a69eecb9933440870bb809c4e32ac1987}{00076} \hyperlink{namespaceQsLogging_a8fe41cf859d617f1c23515f804d1e8ec}{DestinationPtr} \hyperlink{classQsLogging_1_1DestinationFactory_a69eecb9933440870bb809c4e32ac1987}{DestinationFactory::MakeDebugOutputDestination}
      ()
00077 \{
00078     \textcolor{keywordflow}{return} \hyperlink{namespaceQsLogging_a8fe41cf859d617f1c23515f804d1e8ec}{DestinationPtr}(\textcolor{keyword}{new} \hyperlink{classQsLogging_1_1DebugOutputDestination}{DebugOutputDestination});
00079 \}
00080 
00081 \} \textcolor{comment}{/* end namespace}
00082 \textcolor{comment}{*/}
\end{DoxyCode}
