\hypertarget{SH__SqlDataModel_8h}{\section{S\-H\-\_\-\-Sql\-Data\-Model.\-h}
\label{SH__SqlDataModel_8h}\index{/home/tiff/\-Stage-\/\-I\-U\-T/app/simplhotel/hotel-\/precheck/src/\-Pre\-Check/models/\-S\-H\-\_\-\-Sql\-Data\-Model.\-h@{/home/tiff/\-Stage-\/\-I\-U\-T/app/simplhotel/hotel-\/precheck/src/\-Pre\-Check/models/\-S\-H\-\_\-\-Sql\-Data\-Model.\-h}}
}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#ifndef SQLDATAMODEL\_H}
00002 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define SQLDATAMODEL\_H}
00003 \textcolor{preprocessor}{}
00004 \textcolor{preprocessor}{#include <QAbstractListModel>}
00005 \textcolor{preprocessor}{#include <QtSql>}
00006 \textcolor{preprocessor}{#include "\hyperlink{SH__SqlDataField_8h}{SH\_SqlDataField.h}"}
00007 
00008 
\hypertarget{SH__SqlDataModel_8h_source_l00014}{}\hyperlink{classSH__SqlDataModel}{00014} \textcolor{keyword}{class }\hyperlink{classSH__SqlDataModel}{SH\_SqlDataModel} : \textcolor{keyword}{public} \hyperlink{classQAbstractListModel}{QAbstractListModel}
00015 \{
00016     Q\_OBJECT
\hypertarget{SH__SqlDataModel_8h_source_l00017}{}\hyperlink{classSH__SqlDataModel_afd3e2e62c847463c5177ccad35ad4992}{00017}     Q\_PROPERTY(QString \hyperlink{classSH__SqlDataModel_afd3e2e62c847463c5177ccad35ad4992}{table} READ \hyperlink{classSH__SqlDataModel_afced07f7b9e6fecd349a5428a1a4615e}{tableName} WRITE \hyperlink{classSH__SqlDataModel_a2c09d14926326a1149c1df7856c9879c}{setTable} NOTIFY 
      \hyperlink{classSH__SqlDataModel_a791a6cc9d8a2ba109fe5f54ab287dc80}{tableChanged})
\hypertarget{SH__SqlDataModel_8h_source_l00018}{}\hyperlink{classSH__SqlDataModel_a1f3b35273198f9c67ca4bca5b29876e9}{00018}     Q\_PROPERTY(QString \hyperlink{classSH__SqlDataModel_aa86018df823c85798574ec8d63413c1a}{filter} READ \hyperlink{classSH__SqlDataModel_aa86018df823c85798574ec8d63413c1a}{filter} WRITE \hyperlink{classSH__SqlDataModel_a99c6317027a7c9f723215b53b69e0647}{setFilterCondition} NOTIFY 
      \hyperlink{classSH__SqlDataModel_ab7bf039eba1e085b137509b7b93ea39b}{filterChanged})
\hypertarget{SH__SqlDataModel_8h_source_l00019}{}\hyperlink{classSH__SqlDataModel_a28af51642aee51bc7e0ce19b97c57b60}{00019}     Q\_PROPERTY(QString \hyperlink{classSH__SqlDataModel_ade915650ffbdb8d026e00893d1f5a195}{lastError} READ \hyperlink{classSH__SqlDataModel_ade915650ffbdb8d026e00893d1f5a195}{lastError} NOTIFY 
      \hyperlink{classSH__SqlDataModel_a16f5316d5ca383f137d0d571931e4cc5}{lastErrorChanged})
00020 
00021 public:
00028     explicit \hyperlink{classSH__SqlDataModel}{SH\_SqlDataModel}(\hyperlink{classQObject}{QObject} *parent = 0);
00036     \textcolor{keywordtype}{int} \hyperlink{classSH__SqlDataModel_a48d361600552aa4f80af693a68fc41dd}{rowCount}(const QModelIndex &parent) const;
00045     QVariant \hyperlink{classSH__SqlDataModel_aa4664329d52c2d2cba2bacc42fa1a564}{data}(const QModelIndex &index, \textcolor{keywordtype}{int} role) const;
00054     QVariantMap \hyperlink{classSH__SqlDataModel_a24db284b370930b57e2261a7a72e2da8}{datas}() const;
00065     \textcolor{keywordtype}{bool} \hyperlink{classSH__SqlDataModel_aae31b72ec89a35a7b8d4175d7bcaa33a}{setHeaderData}(\textcolor{keywordtype}{int} section, Qt::Orientation orientation, const QVariant &value, \textcolor{keywordtype}{int} 
      role = Qt::EditRole);
\hypertarget{SH__SqlDataModel_8h_source_l00073}{}\hyperlink{classSH__SqlDataModel_aa487bb763eaf2544e4eb5822cd666105}{00073}     \textcolor{keywordtype}{int} \hyperlink{classSH__SqlDataModel_aa487bb763eaf2544e4eb5822cd666105}{roleForField}(\textcolor{keywordtype}{int} fieldIndex)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} Qt::UserRole + fieldIndex;\}
\hypertarget{SH__SqlDataModel_8h_source_l00081}{}\hyperlink{classSH__SqlDataModel_a3c6539114dd06aa8043e7a4e9762f6f4}{00081}     \textcolor{keywordtype}{int} \hyperlink{classSH__SqlDataModel_a3c6539114dd06aa8043e7a4e9762f6f4}{fieldFromRole}(\textcolor{keywordtype}{int} role)\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} role - Qt::UserRole; \}
00088     \textcolor{keyword}{const} QString &\hyperlink{classSH__SqlDataModel_afced07f7b9e6fecd349a5428a1a4615e}{tableName}() \textcolor{keyword}{const};
00095     \textcolor{keyword}{const} QString &\hyperlink{classSH__SqlDataModel_ade915650ffbdb8d026e00893d1f5a195}{lastError}();
00102     \textcolor{keyword}{const} QString &\hyperlink{classSH__SqlDataModel_aa86018df823c85798574ec8d63413c1a}{filter}() \textcolor{keyword}{const};
00103 
00110     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_a2c09d14926326a1149c1df7856c9879c}{setTable}(\textcolor{keyword}{const} QString &\hyperlink{classSH__SqlDataModel_afced07f7b9e6fecd349a5428a1a4615e}{tableName});
00117     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_a99c6317027a7c9f723215b53b69e0647}{setFilterCondition}(\textcolor{keyword}{const} QString &\hyperlink{classSH__SqlDataModel_aa86018df823c85798574ec8d63413c1a}{filter});
00123     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_a0bf147a87376fc3aa436562f94661679}{resetFilterCondition}();
00130     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_ad297d359375d55e66493ce8935f8ff05}{setFields}(QStringList fieldList);
00136     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_ad0477d16e78ba808250e2054952f9833}{resetFieldsToAll}();
00137 
00148     \textcolor{keywordtype}{bool} \hyperlink{classSH__SqlDataModel_ab6c206088250a66ddc8cb8d33a38e421}{fetch}(QString \hyperlink{classSH__SqlDataModel_afced07f7b9e6fecd349a5428a1a4615e}{tableName} = \textcolor{stringliteral}{""}, QString \hyperlink{classSH__SqlDataModel_aa86018df823c85798574ec8d63413c1a}{filter} = \textcolor{stringliteral}{""}, QString sort=\textcolor{stringliteral}{""}, 
      QStringList fields = QStringList());
00156     \hyperlink{classSH__SqlDataFields}{SH\_SqlDataFields} *\hyperlink{classSH__SqlDataModel_a92c51d5c1f6aca08a7ee566ece1e4cb6}{field}(\textcolor{keywordtype}{int} i) \textcolor{keyword}{const};
00163     \textcolor{keywordtype}{int} \hyperlink{classSH__SqlDataModel_a46f0951fd358e30892a982ebd34e43c2}{fieldsCount}() \textcolor{keyword}{const};
00170     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_ab443cd7935993270c37f9bd977b33875}{setOrderBy}(QString sort);
\hypertarget{SH__SqlDataModel_8h_source_l00179}{}\hyperlink{classSH__SqlDataModel_ac9954bbf92ed14566128c74318e3125b}{00179}     \textcolor{keyword}{virtual} QHash<int, QByteArray> \hyperlink{classSH__SqlDataModel_ac9954bbf92ed14566128c74318e3125b}{roleNames}()\textcolor{keyword}{ const }\{ \textcolor{keywordflow}{return} this->
      \hyperlink{classSH__SqlDataModel_ad1e46c72a6aeb83e3e7bb0c3110d12a4}{mRoles}; \}
00180 
00187     \textcolor{keywordtype}{bool} \hyperlink{classSH__SqlDataModel_ad85bfde0f7ffb06172eb5543e26d1331}{isEmpty}() \textcolor{keyword}{const};
00188 
00195     \textcolor{keyword}{const} QString &\hyperlink{classSH__SqlDataModel_aee909d0a29715d02d920fcf854bfbba2}{query}() \textcolor{keyword}{const};
00202     \textcolor{keyword}{const} QStringList \hyperlink{classSH__SqlDataModel_a571bdc1f9592bd13f98fd748563d46c0}{fieldsList}() \textcolor{keyword}{const};
00203 
00204 signals:
00210     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_a34a4750c1fb9c7ed05fe869d6de84e28}{fieldsChanged}();
00216     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_a791a6cc9d8a2ba109fe5f54ab287dc80}{tableChanged}();
00222     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_a16f5316d5ca383f137d0d571931e4cc5}{lastErrorChanged}();
00228     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_ab7bf039eba1e085b137509b7b93ea39b}{filterChanged}();
00234     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_acf85dacdcc946ef27377d221b16b0e41}{rolesChanged}();
00235 \textcolor{keyword}{protected}:
00241     \textcolor{keywordtype}{void} \hyperlink{classSH__SqlDataModel_ad4f032ceb7c2f70b2d7388e3afd161ab}{applyRoles}();
00242 \textcolor{keyword}{private}:
\hypertarget{SH__SqlDataModel_8h_source_l00246}{}\hyperlink{classSH__SqlDataModel_a88b8738a0d2803c94295c90c83d65f32}{00246}     QString \hyperlink{classSH__SqlDataModel_a88b8738a0d2803c94295c90c83d65f32}{mTable};
\hypertarget{SH__SqlDataModel_8h_source_l00250}{}\hyperlink{classSH__SqlDataModel_af83c15ae3ad1dc4617dd58f2a852a1e2}{00250}     QString \hyperlink{classSH__SqlDataModel_af83c15ae3ad1dc4617dd58f2a852a1e2}{mFilter};
\hypertarget{SH__SqlDataModel_8h_source_l00254}{}\hyperlink{classSH__SqlDataModel_a7e36fd116b7cb50e949ee56af0c31772}{00254}     QString \hyperlink{classSH__SqlDataModel_a7e36fd116b7cb50e949ee56af0c31772}{mSort};
\hypertarget{SH__SqlDataModel_8h_source_l00258}{}\hyperlink{classSH__SqlDataModel_a3e998f75dd5b3193783612002461888d}{00258}     QList<SH\_SqlDataFields *> \hyperlink{classSH__SqlDataModel_a3e998f75dd5b3193783612002461888d}{mDataFields};
\hypertarget{SH__SqlDataModel_8h_source_l00262}{}\hyperlink{classSH__SqlDataModel_ad1e46c72a6aeb83e3e7bb0c3110d12a4}{00262}     QHash<int, QByteArray> \hyperlink{classSH__SqlDataModel_ad1e46c72a6aeb83e3e7bb0c3110d12a4}{mRoles};
\hypertarget{SH__SqlDataModel_8h_source_l00266}{}\hyperlink{classSH__SqlDataModel_a54f0cf057e3200f6b199508958e43fec}{00266}     QSqlQuery \hyperlink{classSH__SqlDataModel_a54f0cf057e3200f6b199508958e43fec}{mSqlQuery};
\hypertarget{SH__SqlDataModel_8h_source_l00270}{}\hyperlink{classSH__SqlDataModel_aa58096989daac3cd3fdea5e6dd4f27ee}{00270}     QList<QSqlRecord> \hyperlink{classSH__SqlDataModel_aa58096989daac3cd3fdea5e6dd4f27ee}{mRecords};
00271 \};
00272 
00273 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* SQLDATAMODEL\_H*/}\textcolor{preprocessor}{}
00274 \textcolor{preprocessor}{}
\end{DoxyCode}
