\hypertarget{SH__DatabaseManager_8h}{\section{S\-H\-\_\-\-Database\-Manager.\-h}
\label{SH__DatabaseManager_8h}\index{/home/tiff/\-Stage-\/\-I\-U\-T/app/simplhotel/hotel-\/precheck/src/\-Pre\-Check/\-S\-H\-\_\-\-Database\-Manager.\-h@{/home/tiff/\-Stage-\/\-I\-U\-T/app/simplhotel/hotel-\/precheck/src/\-Pre\-Check/\-S\-H\-\_\-\-Database\-Manager.\-h}}
}

\begin{DoxyCode}
00001 \textcolor{preprocessor}{#ifndef APPDATABASESINGLETON\_H}
00002 \textcolor{preprocessor}{}\textcolor{preprocessor}{#define APPDATABASESINGLETON\_H}
00003 \textcolor{preprocessor}{}\textcolor{preprocessor}{#include <QSqlDatabase>}
00004 \textcolor{preprocessor}{#include <QString>}
00005 \textcolor{preprocessor}{#include <QSqlQuery>}
00006 \textcolor{preprocessor}{#include <QObject>}
00007 \textcolor{preprocessor}{#include <QtCore>}
00008 
00009 \textcolor{comment}{/*}
00010 \textcolor{comment}{ * declare DB driver and filename.}
00011 \textcolor{comment}{ */}
\hypertarget{SH__DatabaseManager_8h_source_l00015}{}\hyperlink{SH__DatabaseManager_8h_a867ada6d1926e2ded0e68678e02a19c7}{00015} \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{SH__DatabaseManager_8h_a867ada6d1926e2ded0e68678e02a19c7}{dbDriverStr} = \textcolor{stringliteral}{"QIBASE"};
\hypertarget{SH__DatabaseManager_8h_source_l00019}{}\hyperlink{SH__DatabaseManager_8h_a6c6a636455d1d86d7215a52de4bc6828}{00019} \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{SH__DatabaseManager_8h_a6c6a636455d1d86d7215a52de4bc6828}{dbFileNameStr} = \textcolor{stringliteral}{"PreCheckDB.fdb"};
\hypertarget{SH__DatabaseManager_8h_source_l00023}{}\hyperlink{SH__DatabaseManager_8h_a6ea3da6c82e06907039cdf906ae15fd1}{00023} \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{SH__DatabaseManager_8h_a6ea3da6c82e06907039cdf906ae15fd1}{dbAliasNameStr} = \textcolor{stringliteral}{"precheck-hotel"};
\hypertarget{SH__DatabaseManager_8h_source_l00027}{}\hyperlink{SH__DatabaseManager_8h_a15964752bd7d7c2075f3bafca2218411}{00027} \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{SH__DatabaseManager_8h_a15964752bd7d7c2075f3bafca2218411}{dbUsernameStr} = \textcolor{stringliteral}{"SYSDBA"};
\hypertarget{SH__DatabaseManager_8h_source_l00031}{}\hyperlink{SH__DatabaseManager_8h_a5dbd4602b69f5a87243d49f9c873ac64}{00031} \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{SH__DatabaseManager_8h_a5dbd4602b69f5a87243d49f9c873ac64}{dbPasswordStr} = \textcolor{stringliteral}{"masterkey"};
00032 
\hypertarget{SH__DatabaseManager_8h_source_l00036}{}\hyperlink{SH__DatabaseManager_8h_a74e17c2ab66452c74a37bdc0f32e9e08}{00036} \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{SH__DatabaseManager_8h_a74e17c2ab66452c74a37bdc0f32e9e08}{dbFolderPathStr} = QDir::cleanPath(QDir::currentPath()+\textcolor{stringliteral}{"
      /../../../src/Database/"});
\hypertarget{SH__DatabaseManager_8h_source_l00040}{}\hyperlink{SH__DatabaseManager_8h_acee79beb6e5aec996fd46b84264d072a}{00040} \textcolor{keyword}{static} \textcolor{keyword}{const} QString \hyperlink{SH__DatabaseManager_8h_acee79beb6e5aec996fd46b84264d072a}{dbFilePathStr} = QString(\textcolor{stringliteral}{"%1/%2"}).arg(
      \hyperlink{SH__DatabaseManager_8h_a74e17c2ab66452c74a37bdc0f32e9e08}{dbFolderPathStr}).arg(\hyperlink{SH__DatabaseManager_8h_a6c6a636455d1d86d7215a52de4bc6828}{dbFileNameStr});
00041 
00042 
00043 \textcolor{comment}{/*}
00044 \textcolor{comment}{ * GUI string messages.}
00045 \textcolor{comment}{ */}
\hypertarget{SH__DatabaseManager_8h_source_l00049}{}\hyperlink{SH__DatabaseManager_8h_adeeb3449586b533bdd3cd5938d501807}{00049} \textcolor{keyword}{static} QString \hyperlink{SH__DatabaseManager_8h_adeeb3449586b533bdd3cd5938d501807}{dbDriverNotExistStr} = QObject::tr(\textcolor{stringliteral}{"%1 database driver is not available."})
      .arg(\hyperlink{SH__DatabaseManager_8h_a867ada6d1926e2ded0e68678e02a19c7}{dbDriverStr});
\hypertarget{SH__DatabaseManager_8h_source_l00053}{}\hyperlink{SH__DatabaseManager_8h_a19d48066a97c8a9a81827ccf23fd736f}{00053} \textcolor{keyword}{static} QString \hyperlink{SH__DatabaseManager_8h_a19d48066a97c8a9a81827ccf23fd736f}{dbCannotOpenStr} = QObject::tr(\textcolor{stringliteral}{"The database %1 cannot be opened."}).arg(
      dbFilePathStr);
00054 
00055 
00056 
\hypertarget{SH__DatabaseManager_8h_source_l00062}{}\hyperlink{classSH__DatabaseManager}{00062} \textcolor{keyword}{class }\hyperlink{classSH__DatabaseManager}{SH\_DatabaseManager}: \textcolor{keyword}{public} \hyperlink{classQObject}{QObject}
00063 \{
00064     Q\_OBJECT
00065     \textcolor{keyword}{private}:
\hypertarget{SH__DatabaseManager_8h_source_l00066}{}\hyperlink{classSH__DatabaseManager_a8ca37d0cafa6a181582d60e045a8d5ab}{00066}         \textcolor{keyword}{static} \hyperlink{classSH__DatabaseManager}{SH\_DatabaseManager} *\hyperlink{classSH__DatabaseManager_a8ca37d0cafa6a181582d60e045a8d5ab}{\_instance};
00067 
00075         \textcolor{keywordtype}{void} \hyperlink{classSH__DatabaseManager_acab8936d9c694610eda1c157a405ead3}{divideQVariantMap}(QVariantMap values, QString &fields, QString &vals);
00076 \textcolor{keyword}{protected}:
00077 
00083         \hyperlink{classSH__DatabaseManager_a7b5d0e372c153eb59cdab98588994904}{SH\_DatabaseManager}();
\hypertarget{SH__DatabaseManager_8h_source_l00087}{}\hyperlink{classSH__DatabaseManager_a9291f61c3abbba2c4f1567b1d8325f0e}{00087}         QSqlDatabase \hyperlink{classSH__DatabaseManager_a9291f61c3abbba2c4f1567b1d8325f0e}{dbConnection};
00088 
00089     \textcolor{keyword}{public}:
00090 
00091 
00098         \textcolor{keyword}{static} \hyperlink{classSH__DatabaseManager}{SH\_DatabaseManager} *\hyperlink{classSH__DatabaseManager_a638369a15265ab0aa053080a32d2ca39}{getInstance}();
00099 
00100 
00101 
00108         \textcolor{keywordtype}{bool} \hyperlink{classSH__DatabaseManager_aeb077fe5437f435c0cbe8d77d96dd846}{dbConnect}();
00109 
00116         \textcolor{keywordtype}{bool} \hyperlink{classSH__DatabaseManager_ab125b77320dca843740fc9928fbbe16f}{isConnected}();
00117 
00118 
00125         \textcolor{keywordtype}{bool} \hyperlink{classSH__DatabaseManager_a3716cf1a5f521cc49584dbcb2fab28bf}{dbDisconnect}();
00126 
00127 
00134         QSqlDatabase \hyperlink{classSH__DatabaseManager_adf7c1e261fd3feed3dea6614d8a80d5f}{getDbConnection}();
00135 
00136 
00142         \hyperlink{classSH__DatabaseManager_ad899140e4638301b6a6ed68a3289b34b}{~SH\_DatabaseManager}();
00150         \textcolor{keywordtype}{bool} \hyperlink{classSH__DatabaseManager_af83a53b26cee86b3194cac14928115ed}{tableExists}(QString tableName);
00159         \textcolor{keywordtype}{int} \hyperlink{classSH__DatabaseManager_ad3e372d89b60b43e3f3bae649be6d7fb}{dataCount}(QString tableName, QString filter);
00167         QSqlQuery \hyperlink{classSH__DatabaseManager_ab8f9850cb68444ab9a4e613b36a3b044}{execSelectQuery}(QString tableName, QStringList fields=QStringList(\textcolor{stringliteral}{"*"}), 
      QString condition=\textcolor{stringliteral}{""}, QString ordering=\textcolor{stringliteral}{""});
00174         \textcolor{keywordtype}{bool} \hyperlink{classSH__DatabaseManager_aa42b90708c2fdb89588cb67d2e4f8ad7}{execReplaceQuery}(QString tableName, QVariantMap values);
00182         QVariant \hyperlink{classSH__DatabaseManager_a1c0399265021ed79a1c07a0e01c7a5dc}{execInsertReturningQuery}(QString tableName, QVariantMap values, 
      QString returningField);
00183 \};
00184 
00185 \textcolor{preprocessor}{#endif }\textcolor{comment}{/* APPDATABASESINGLETON\_H*/}\textcolor{preprocessor}{}
\end{DoxyCode}
