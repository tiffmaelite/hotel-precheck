\hypertarget{SH__SqlTableView_8qml}{\section{S\-H\-\_\-\-Sql\-Table\-View.\-qml}
\label{SH__SqlTableView_8qml}\index{/home/tiff/\-Stage-\/\-I\-U\-T/app/simplhotel/hotel-\/precheck/src/\-Pre\-Check/views/qml/\-S\-H\-\_\-\-Sql\-Table\-View.\-qml@{/home/tiff/\-Stage-\/\-I\-U\-T/app/simplhotel/hotel-\/precheck/src/\-Pre\-Check/views/qml/\-S\-H\-\_\-\-Sql\-Table\-View.\-qml}}
}

\begin{DoxyCode}
00001 \textcolor{keyword}{import} QtQuick 2.1
00002 import QtQuick.Window 2.1
00003 import QtQuick.Controls 1.0
\hypertarget{SH__SqlTableView_8qml_source_l00004}{}\hyperlink{classSH__SqlTableView}{00004} import QtQuick.Controls.Styles 1.0
00005 import QtQuick.Layouts 1.0
00006 import PreCheck 1.0
00007 
00011 TableView \{
00012     \textcolor{keywordtype}{id}: table
00013     model: 0
00014     signal selected(\textcolor{keywordtype}{string} selectedItem)
00015     Component.onCompleted:\{
00016         \textcolor{keywordflow}{if}(table.model !== 0) \{
00017             table.model.fetch();
00018             var count = table.model.fieldsCount();
00019             \textcolor{keywordflow}{for}(var index = 0; index < count; index++) \{
00020                 \textcolor{keywordflow}{if}(!table.model.containsFilterKeyColumn(index)) \{
00021                     var col = Qt.createQmlObject(\textcolor{stringliteral}{'import QtQuick 2.1; import QtQuick.Controls 1.0;
       TableViewColumn \{title: table.model.field('}+index+\textcolor{stringliteral}{').text; role: table.model.field('}+index+\textcolor{stringliteral}{').role\}'},table,\textcolor{stringliteral}{'column'}+
      index);
00022                     \textcolor{comment}{/*tmp.push(col);*/}
00023                     table.addColumn(col);
00024                 \}
00025             \}
00026         \}
00027     \}
00028 
00029 
00030     itemDelegate:
00031         \hyperlink{classItem}{Item} \{
00032 
00033         Text \{
00034             width: parent.width
00035             anchors.margins: 4
00036             anchors.left: parent.left
00037             anchors.verticalCenter: parent.verticalCenter
00038             elide: styleData.elideMode
00039             text: styleData.value !== undefined ? styleData.value : \textcolor{stringliteral}{""}
00040             color: styleData.textColor
00041             visible: !styleData.selected
00042         \}
00043         Loader \{ \textcolor{comment}{/* Initialize text input lazily to improve performance*/}
00044             \textcolor{keywordtype}{id}: loaderEditor
00045             anchors.fill: parent
00046             anchors.margins: 4
00047             Connections \{
00048                 target: loaderEditor.item
00049                 onAccepted: \{
00050                     \textcolor{comment}{/*if (typeof styleData.value === 'number')*/}
00051                     table.selected(styleData.row);
00052                     model.setData(styleData.row, styleData.role, styleData.value);
00053                 \}
00054             \}
00055             sourceComponent: styleData.selected ? editor : null
00056             Component \{
00057                 \textcolor{keywordtype}{id}: editor
00058                 TextInput \{
00059                     \textcolor{keywordtype}{id}: textinput
00060                     color: styleData.textColor
00061                     text: styleData.value
00062                     MouseArea \{
00063                         \textcolor{keywordtype}{id}: mouseArea
00064                         anchors.fill: parent
00065                         hoverEnabled: \textcolor{keyword}{true}
00066                         onClicked: \{
00067                             textinput.forceActiveFocus()
00068                         \}
00069                     \}
00070                     onFocusChanged: \{
00071                         \textcolor{keywordflow}{if}(styleData.value !== textinput.text) \{
00072                             textinput.accepted();
00073                         \}
00074                     \}
00075 
00076                 \}
00077             \}
00078         \}
00079     \}
00080 \}
\end{DoxyCode}
